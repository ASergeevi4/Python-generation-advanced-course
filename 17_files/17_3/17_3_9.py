# https://stepik.org/lesson/530408/step/9?unit=523223

# Ð”Ð»Ð¸Ð½Ð½Ñ‹Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ â†”ï¸
# Ð’Ð°Ð¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» lines.txt, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ñ‹ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ‚ÐµÐºÑÑ‚Ð°. ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ð²ÑÐµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÐµÐ¹ Ð´Ð»Ð¸Ð½Ñ‹ Ð¸Ð· Ñ„Ð°Ð¹Ð»Ð°, Ð½Ðµ Ð¼ÐµÐ½ÑÑ Ð¸Ñ… Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº.

# Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
# ÐÐ° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¿Ð¾Ð´Ð°ÐµÑ‚ÑÑ.

# Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
# ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ ÑÑ‚Ñ€Ð¾ÐºÐ¸ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°, Ð¸Ð¼ÐµÑŽÑ‰Ð¸Ðµ Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÑƒÑŽ Ð´Ð»Ð¸Ð½Ñƒ, Ð½Ðµ Ð¼ÐµÐ½ÑÑ Ð¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ°.

# ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 1. Ð¡Ñ‡Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð½Ð°Ñ…Ð¾Ð´ÑÑ‚ÑÑ Ð² Ð¾Ð´Ð½Ð¾Ð¹ Ð¿Ð°Ð¿ÐºÐµ.

# ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°. ðŸ™‚

# with open('lines.txt', 'rt', encoding='utf-8') as file:
#     longest = len(file.readline())
#     result = []
#     file.seek(0)
#     for line in file:
#         if len(line) > longest:
#             longest = len(line)
#             result.clear()
#             result.append(line)
#         elif len(line) == longest:
#             result.append(line)
#     print(*[el.strip() for el in result], sep='\n')

with open('lines.txt', 'rt', encoding='utf-8') as file:
    max_len = max(len(line.strip()) for line in file.readlines())
    file.seek(0)
    print(*[line.strip() for line in file.readlines() if len(line.strip()) == max_len], sep='\n')
